var background=function(){"use strict";var s,l;function c(e){return e==null||typeof e=="function"?{main:e}:e}const n=(l=(s=globalThis.browser)==null?void 0:s.runtime)!=null&&l.id?globalThis.browser:globalThis.chrome,u=c(()=>{console.log("Hello background!",{id:n.runtime.id}),n.contextMenus.create({id:"generateTemplate",title:"生成模板",contexts:["page"],documentUrlPatterns:["https://leetcode.com/problems/*","https://leetcode.cn/problems/*"],enabled:!1}),n.contextMenus.create({id:"getSolvingGuidance",title:"获取解题思路",contexts:["page"],documentUrlPatterns:["https://leetcode.com/problems/*","https://leetcode.cn/problems/*"],enabled:!1}),n.contextMenus.onClicked.addListener((e,t)=>{e.menuItemId==="generateTemplate"&&(t!=null&&t.id)?n.tabs.sendMessage(t.id,{type:"showTemplateGenerator",source:"contextMenu"}):e.menuItemId==="getSolvingGuidance"&&(t!=null&&t.id)&&n.tabs.sendMessage(t.id,{type:"getSolvingGuidance",source:"contextMenu"})}),n.runtime.onMessage.addListener(e=>{e.type==="enableContextMenu"?(n.contextMenus.update("generateTemplate",{enabled:!0}),n.contextMenus.update("getSolvingGuidance",{enabled:!0})):e.type==="disableContextMenu"&&(n.contextMenus.update("generateTemplate",{enabled:!1}),n.contextMenus.update("getSolvingGuidance",{enabled:!1}))})});function a(){}function o(e,...t){}const i={debug:(...e)=>o(console.debug,...e),log:(...e)=>o(console.log,...e),warn:(...e)=>o(console.warn,...e),error:(...e)=>o(console.error,...e)};let r;try{r=u.main(),r instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(e){throw i.error("The background crashed on startup!"),e}return r}();
background;
